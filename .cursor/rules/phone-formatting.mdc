# Phone Number Formatting Standards

## Consistent Phone Number Display

All phone numbers in the application should be formatted consistently using the same pattern as the PhoneInput component.

### Formatting Function

Use this utility function for consistent phone number formatting across the app:

```typescript
const formatPhoneNumber = (phoneNumber: string): string => {
  // Remove all non-digits
  const digits = phoneNumber.replace(/\D/g, '')

  // Handle US/Canada numbers with country code (11 digits starting with 1)
  if (digits.length === 11 && digits.startsWith('1')) {
    const areaCode = digits.slice(1, 4)
    const exchange = digits.slice(4, 7)
    const number = digits.slice(7, 11)
    return `+1 (${areaCode}) ${exchange}-${number}`
  }

  // Handle 10-digit US/Canada numbers (no country code)
  if (digits.length === 10) {
    const areaCode = digits.slice(0, 3)
    const exchange = digits.slice(3, 6)
    const number = digits.slice(6, 10)
    return `(${areaCode}) ${exchange}-${number}`
  }

  // Handle partial numbers during input
  if (digits.length <= 3) {
    return digits
  } else if (digits.length <= 6) {
    return `(${digits.slice(0, 3)}) ${digits.slice(3)}`
  } else if (digits.length <= 10) {
    return `(${digits.slice(0, 3)}) ${digits.slice(3, 6)}-${digits.slice(6)}`
  }

  // Fallback for other cases
  return phoneNumber
}
```

### Usage Guidelines

1. **Display Components**: Always format phone numbers when displaying them to users
2. **Input Components**: Use the PhoneInput component for phone number entry
3. **Database Storage**: Store phone numbers in their raw format (digits only)
4. **API Responses**: Format phone numbers before sending to frontend

### Examples

```typescript
// ✅ Good - Formatted display (handles both 10 and 11 digit numbers)
<p>{formatPhoneNumber(player.phone_number)}</p>
// Results: "+1 (778) 968-4668" for 11 digits or "(778) 968-4668" for 10 digits

// ✅ Good - Using PhoneInput component
<PhoneInput value={phoneNumber} onChange={setPhoneNumber} />

// ❌ Bad - Raw phone number display
<p>{player.phone_number}</p>
```

### Components That Should Use This Formatting

- Avatar dropdown menus
- Profile displays
- User lists
- Contact information
- Any component showing phone numbers to users

### Storage Format

Phone numbers should be stored in the database as raw digits (e.g., "17789684668") and formatted only for display purposes.
